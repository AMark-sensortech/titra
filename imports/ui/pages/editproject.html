<template name="editproject">
  <h5 class="text-center">{{#if newProject}}Create a new{{else}}Edit{{/if}} project</h5>
  <form id="editProjectForm">
    <div class="form-group">
      <label for="name"><strong>Name</strong></label>
      <input name="name" id="name" type="text" value="{{name}}" class="form-control" placeholder="My project"/>
    </div>
    <div class="form-group">
      <label for="desc"><strong>Description</strong></label>
      <textarea name="desc" id="desc" type="text" value="{{desc}}" class="form-control" placeholder="Describe your project here ..."></textarea>
    </div>
    <div class="form-group">
      <label for="color"><strong>Color</strong></label>
      <div class="input-group" id="colpick">
        <input name="color" id="color" type="text" value="{{color}}" data-color="{{color}}" class="form-control"/><span class="input-group-addon"><i></i></span>
      </div>
    </div>
    <!-- <div class="form-group">
      <label for="customer"><strong>Customer</strong></label>
      <input name="customer" id="customer" type="text" value={{customer}} class="form-control" placeholder="Sample Customer"/>
    </div> -->
    <div class="form-group">
      <label for="rate"><strong>Rate ({{unit}}/h)</strong></label>
      <input name="rate" id="rate" type="number" value={{rate}} class="form-control" placeholder="100"/>
    </div>
    {{#if currentUser.profile.enableWekan}}
    <div class="form-group">
      <label for="wekanurl"><strong>Wekan integration</strong></label>
      <input name="wekanurl" id="wekanurl" type="text" value={{wekanurl}} class="form-control" placeholder="https://url.of.your.wekan.environment/"/>
    </div>
    {{/if}}
    {{#unless newProject}}
      <div class="form-group">
        <label><strong>Access rights</strong></label>
        <br/>
        {{#unless public}}
          <div class="input-group mb-1">
            <input id="newmembermail" type="email" class="form-control" placeholder="E-mail address of team member to add" aria-label="E-mail address of team member to add">
            <span class="input-group-btn">
              <button class="btn btn-secondary" type="button" id="addNewMember">Add</button>
            </span>
          </div>
          <ul class="list-group mb-2">
            <li class="list-group-item">{{currentUser.profile.name}} (owner)</li>
            {{#each member in team}}
              <li id="{{member._id}}" class="list-group-item">{{member.profile.name}} <span class="float-right"><a href="#removeMember" id="removeTeamMember"><i class="fa fa-trash"></i></a></span></li>
            {{/each}}
          </ul>
        {{/unless}}
        {{#unless disablePublic}}
        <label class="custom-control custom-checkbox">
          {{#if public}}
            <input name="public" id="public" type="checkbox" checked class="custom-control-input">
          {{else}}
            <input name="public" id="public" type="checkbox" class="custom-control-input"/>
          {{/if}}
          <span class="custom-control-indicator"></span>
          <span class="custom-control-description">Public project (visible to all users)</span>
        </label>
        {{/unless}}

        <!-- <input name="public" id="public" type="hidden" value={{public}} class="form-control"/> -->
      </div>
    {{/unless}}
  </form>
  <div class="row text-center">
    <div class="col-3 mr-auto">
      <button class="btn btn-secondary js-backbutton form-control">back</button>
    </div>
    {{#unless newProject}}
      {{#if archived (projectId)}}
        <div class="col-3">
          <button class="btn btn-secondary btn-block js-restore-project"><i class="fa fa-repeat"></i> <span class="d-none d-md-inline">Restore</span></button>
        </div>
        <div class="col-3">
          <button class="btn btn-secondary btn-block js-delete-project"><i class="fa fa-trash"></i> <span class="d-none d-md-inline">Delete</span></button>
        </div>
      {{else}}
        <div class="col-3">
          <a href="/list/timecards/{{projectId}}" class="btn btn-secondary btn-block"><i class="fa fa-list"></i> <span class="d-none d-md-inline">List</span></a>
        </div>
        <div class="col-3">
          <button class="btn btn-secondary btn-block js-archive-project"><i class="fa fa-archive"></i> <span class="d-none d-md-inline">Archive</span></button>
        </div>
      {{/if}}
    {{/unless}}
    <div class="col-3">
      <button class="btn btn-primary form-control" id="save">save</button>
    </div>
  </div>
</template>
